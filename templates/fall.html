<h2>Fall Maze</h2>

<p>Tokens collected this run: <span id="tokenCount">0</span></p>

<button onclick="collectToken()">Collect Token</button>
<br><br>
<button onclick="finishMaze()">Finish Maze</button>

<script>
  let runTokens = 0;

  function collectToken() {
    runTokens += 1;
    document.getElementById("tokenCount").innerText = runTokens;
  }

  function finishMaze() {
    fetch("/fall/complete", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ tokens: runTokens })
    }).then(() => {
      window.location.href = "/game";
    });
  }
</script>
